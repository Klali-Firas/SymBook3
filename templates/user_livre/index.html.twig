{% extends 'base.html.twig' %}

{% block title %}Liste des livres
{% endblock %}

{% block body %}
	<h1>Liste des livres</h1>.
	<form class="mb-4 d-flex justify-content-center" action="/user/livre/search" method="post">

		<div class="input-group w-75">

			<input type="text" name="searchTerm" class="form-control" style="width : 60%" placeholder="Search...">
			<select name="searchBy" class="form-select">
				<option value="-1" disabled selected>Select category...</option>
				{% for categorie in categories %}
					<option value="{{ categorie.id }}">{{ categorie.libelle }}</option>
				{% endfor %}
			</select>
			<button class="btn btn-primary" type="submit">Search</button>
		</div>
	</form>
	<div class="row gy-4">

		{% for livre in livres %}
			<div class="col">
				<div class="card" style="width: 18rem;">

					<img src="{{ livre.image }}" class="card-img-top" alt="{{livre.titre}}">

					<div class="card-body">
						<h5 class="card-title">{{ livre.titre }}</h5>
						<p class="card-text">{{ livre.editeur }}</p>
						<a href="{{url('app_user_livre_show',{'id':livre.id})}}" class="btn btn-primary">Voir</a>
						<a href="{{url('app_article',{'livre':livre.id})}}" class="btn btn-primary">Ajouter au panier</a>
					</div>
				</div>
			</div>

		{% endfor %}
	</div>

</div>{% endblock %}
